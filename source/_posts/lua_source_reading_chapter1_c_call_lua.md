title: 第1篇 - C/C++调用Lua
date: 2016-04-02
layout: post
comments: true
categories: Lua源码分析
toc: false
tags: [Lua]
keywords: Lua, 源码阅读

---

# 0. 介绍
Lua是胶水语言，它本身独立存在是没有意义的，只有和宿主语言结合，才能体现出它的价值。既然作为胶水语言，宿主语言肯定是可以调用到Lua脚本程序中的东西的。Lua的一种简单的应用场景就是作为程序的配置文件。那么，宿主程序怎么样获取Lua脚本中配置的变量的过程，就是一个从C/C++（如果你的宿主程序使用的是C/C++）调用Lua的一个过程。

# 1. 栈
Lua中有一个数据栈专门用来存放数据。在与宿主语言交换数据就是通过栈进行的。如果，需要获取Lua程序中的数据（值，函数等等），需要将数据存放到栈中，然后，宿主语言再到Lua的栈上去取数据。

## 1.1 数据压栈
在宿主语言中，通常要将数据传递给Lua脚本程序，那么，数据如何传递呢？上面说过，数据交换都是通过Lua栈的。所以，宿主程序中需要将数据亚入堆栈中，以便Lua程序使用。

# 2. 获取脚本中的全局变量
在配置文件中一般都是以Key-Value的形式来保存值的。


<!--more-->
